<!DOCTYPE html>
<html>
    <head>
    <style>
    
                p{
                    text-align: center;
                }
    
                
                .help{
                    position: absolute;
                    top: 0px;
                    right: -30px;
                    text-align: center;
                    background-color: #505050 ;
                    border-radius: 50%;
                    width: 24px;
                    height: 24px;
                    font-size: 14px;
                    line-height: 26px;
                    cursor: default;
                }
                
                .help:before{
                    content: '?';
                    font-weight: bold;
                    color:#fff;
                }
                
                .help:hover p2{
                    display:block;
                    transform-origin: 100% 0%;
                }
                
                .help p2{	
                    z-index: 2;
                    display: none;
                    text-align: left;
                    background-color: #1E2021;
                    padding: 20px;
                    width: 300px;
                    position: absolute;
                    border-radius: 3px;
                    box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.2);
                    right: -4px;
                    color: #FFF;
                    font-size: 13px;
                    line-height: 1.4;
                    left: 50px;
                } 
                
                .help p2:after{ /* Prevents the tooltip from being hidden */
                    width:100%;
                    height:40px;
                    content:'';
                    position: absolute;
                    top:-40px;
                    left:0;
                }
                body {
                    background: url("https://c4.staticflickr.com/8/7746/18184133799_de5b09a565_o.jpg") no-repeat;
                    background-position: 0px 20%;
                    background-color: black;
                    -webkit-background-size: cover;
                    -moz-background-size: cover;
                    -o-background-size: cover;
                    background-size: cover;
                }
                
                 #searchbox, .outputrecipes{
                    position: fixed;
                    top: 350px;
                    left: 30%;
                }
                
                .outputrecipes{
                    height: 400px !important; 
                    margin-top: 30px; 
                    overflow-y: none;
                }
                }
                ul{
                    list-style-type: none;
                    font-size:20px;
                    padding: 10px;
                }
    
                ul li{
                    display:block;
                    float:left;
                    position: relative;
                    width:160px;
                }
    
                .menu a{
                    display: block;
                    text-decoration: none;
                    padding:8px 8px 8px 8px; 
                    padding
                    background: black; 
                    color:white; 
                    margin-left:1px;
                    text-align: center;
                    border-style: solid;
                    border-color: white;
    
                }
                .menu a:hover{
                    background: grey; 
                }

                 /*li ul.hidden li a{
                    padding: 8px 15px 8px 15px;
                    width:130px;
                    text-align: left;
                }
    
                li ul.hidden{
                    position: absolute;
                    font-size:0.74em;
                    padding:0;
                    margin:0;
                    display: none;
                }
    
               li.submenu:hover ul.hidden{
                    display: block;
                }
    
                ul li a:hover{
                    background: grey; 
                }*/
                
            </style>
            
            
        <script type="text/javascript">
            var sortBy = "";
            
            function insertionSort(pRecipes, pSortBy)
            {
                var len = pRecipes.length, value, i, j;
                
                //TODO: would like to do pRecipes[i].pSortBy to avoid writing insertionsort for every sorting option...
                
                if (pSortBy == "totalTimeInSeconds")
                {
                    for (i = 0; i < len; i++)
                        {
                            value = pRecipes[i].totalTimeInSeconds; 
                            ele = pRecipes[i];
                            for (j=i-1; j > -1 && pRecipes[j].totalTimeInSeconds > value; j--) {
                                pRecipes[j+1] = pRecipes[j];
                            }
                    
                            pRecipes[j+1] = ele;
                        }
                }
                if (pSortBy == "rating")
                {
                    for (i = 0; i < len; i++)
                        {
                            value = pRecipes[i].rating; 
                            ele = pRecipes[i];
                            for (j=i-1; j > -1 && pRecipes[j].rating > value; j--) {
                                pRecipes[j+1] = pRecipes[j];
                            }
                    
                            pRecipes[j+1] = ele;
                        }
                }
        
                return pRecipes;
            }
        
            
            function displayAll(content) {
                var recipes = content.matches;
                var outputHTML = "";
                if(sortBy != "relevance")
                {
                    recipes = insertionSort(recipes, sortBy);
                }
                if(sortBy == "rating")
                {
                    for(i = recipes.length - 1; i >= 0; i--)
                    {
                        if(recipes[i].totalTimeInSeconds != null)
                        {
                        outputHTML += "<a href='http://www.yummly.com/recipe/external/" + recipes[i].id + "' target='_blank'>" + recipes[i].recipeName + " " + recipes[i].totalTimeInSeconds / 60 + "min " + Array(recipes[i].rating + 1).join('\u2605') + "</a><br>";
                        }
                        
                    }
                }
                else
                {
                    for(i = 0; i < recipes.length; i++)
                    {
                        if(recipes[i].totalTimeInSeconds != null)
                        {
                        outputHTML += "<a href='http://www.yummly.com/recipe/external/" + recipes[i].id + "' target='_blank'>" + recipes[i].recipeName + " " + recipes[i].totalTimeInSeconds / 60 + "min " + Array(recipes[i].rating + 1).join('\u2605') + "</a><br>";
                        }
                         
                    }   
                }
                var results = document.getElementById('outputRecipes');
                results.innerHTML = outputHTML;
                 
                if (results.scrollHeight > results.clientHeight) 
                {
                    results.setAttribute("style","height: 370px !important; margin-top: 30px; overflow-y: scroll;");
                }
                
            }
            
            
            
            //may not use
            function displayOne(content)
            {
                var outputHTML = "";
                var calories;
                var servingSize;
                var time;
                var rating;
                //calorie count
                
                for(i = 0; i < content.nutritionEstimates.length; i++)
                {
                    if (content.nutritionEstimates[i].attribute == 'ENERC_KCAL')
                    {
                        calories = content.nutritionEstimates[i].value;
                        break;
                    }
                }
                
                document.getElementById('outputRecipes').innerHTML = outputHTML;
            }
            
            function loadAllRecipes(searchString){
                sortBy = document.getElementById("sortBy");
                sortBy = sortBy[sortBy.selectedIndex].id;
                var id = "ID goes here";
                var key = "Key goes here";
                var yummlyURL = "http://api.yummly.com/v1/api/recipes?callback=displayAll&_app_id=" + id + "&_app_key=" + key;
                var splitIngr = searchString.split(" ");
                for(i = 0; i < splitIngr.length; i++)
                {
                	if(splitIngr[i].substr(0,1) == "-"){
                		yummlyURL += "&excludedIngredient[]=" + splitIngr[i].substring(1, splitIngr[i].length).toLowerCase();
                  }
                  else{
                  	yummlyURL += "&allowedIngredient[]=" + splitIngr[i].toLowerCase();
                  }
                }
                yummlyURL += "&maxResult=100&start=0";
                
                // create script element
                var script = document.createElement('script');
                // assing src with callback name
                script.src = yummlyURL;
                // insert script to document and load content
                document.body.appendChild(script);
            }
            
            //may not use
            function loadRecipeDetails(recipeId)
            {
                var id = "ID goes here";
                var key = "Key goes here";
                var yummlyURL = "http://api.yummly.com/v1/api/recipe/" + recipeId + "?callback=displayOne&_app_id=" + id + "&_app_key=" + key;
                
                // create script element
                var script = document.createElement('script');
                // assing src with callback name
                script.src = yummlyURL;
                // insert script to document and load content
                document.body.appendChild(script);
            }
            
              function displayResult(){
                loadAllRecipes(document.getElementById('searchbar').value);
            }
            
             function entered(event) {
             if (event.keyCode == 13) {
                displayResult();
                return false;
                }
            }
        </script>
    </head>
    <body>
     <div style="margin-left: 25%; float: right; margin-top: 350px" class="menu">
     <a href="http://fridgewiz.tumblr.com/"><b>Home</b></a>
     <a href="http://aboutfridgewiz.tumblr.com/"><b>About Us</b></a>
        <a href="http://shopfridgewiz.tumblr.com/"><b>Shopping Tips</b></a>
        <a href="http://cookfridgewiz.tumblr.com/"><b>Cooking Tips</b></a>
        <a href="http://storefridgewiz.tumblr.com/"><b>Storing Tips</b></a>
        <a href="http://growyourownfridgewiz.tumblr.com/"><b>Grow Your Own</b></a>
       <a href="http://referencefridgewiz.tumblr.com/"><b>Reference</b></a>
            </div>
    
    <div id="searchbox">
        <input id="searchbar" style="width: 300px" onkeypress="return entered(event)"></input>
        <input type="button" value="Search" onclick="displayResult()" ></input>
        <select id="sortBy">
            <option id="relevance" selected>Relevance</option>
            <option id="totalTimeInSeconds">Time to Make</option>
            <option id="rating">Rating</option>
        </select><nobr></nobr>
         <div class = "help"><p2>Welcome to FridgeWiz, the site that teaches you about cooking by providing you with recipes and tips that will be useful in the kitchen. Above, you can find out about who we are, find random tips about cooking and grocceries. On the left of this question mark is a search bar that can you use to find recipes. In order to use the search bar properly, type in the name of the ingredient you want to use. You can search by ingredient by putting the ingredient names, separate by commas (i.e, eggs, butter).
    Thank you for visiting our website and we hope you will enjoy it!</p2></div>
       
    </div>
    <br>

     <div id="outputRecipes" class="outputrecipes">
        
    </div>
        
    </body>
</html>
